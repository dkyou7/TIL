# 블록체인이란?

### The Trust Machine

- 서로 신뢰할 수 없는 환경에서 사람들이 중립적이고 중앙화된 인증기관 없이 신뢰를 보장하는 기술.

- 간단히 말해서, **신뢰를 만드는 기계**

### 블록체인의 가치

- personal computer 등장. 개인이 컴퓨터를 이용할 수 있는 시대 -> 엄청난 정보들이 쌓이기 시작함 -> 많은 정보를 어떻게 교환할 수 있을까?? -> 플로피 디스크.( 정보의 교환 가능하게 함 ) 
- 인터넷의 보급 -> personal 정보의 공유 많이 용이하게 함.
- 인터넷 상에서 상대방을 믿을 수 있을까? -> 제 3의 기관. 이걸 해결해줄 수 있는게 블록체인이라고 말한다. 블록체인은 제 2의 인터넷 시대를 여는 기술이다. 

### 기술적 배경

- P2P 네트워크를 이용하여 거래내역을 분산, 온라인 네트워크 참가자 모두에게 내용을 공개 및 기록. 총무의 장부정리. 결산 
- 신뢰의 기술. 모두가 공유하는 컴퓨터 자료.
- 누구나 참여할 수 있는 속성. public blockchain.
- 허락된 노드만 참여할 수 있는 속성. private blockchain

### 블록체인 핵심기술 구성도

1. p2p  네트워크
2. 암호화 - 해시함수
3. 파일 매니저 기술 = block화 기술. 1000번째 있는 모든 내용을 압축해놓은 해싱값을 1001번째에 넣어둔다. 파일 변경이 용이하지 않다. 
4. 합의 알고리즘 
5. 스마트 컨트랙트 : 이더리움. 돈을 쓰는데 제약사항을 걸 수 있다. 

## 블록체인과 시장의 변화

### 암호화폐

- 기업이나 개인이 화폐를 발행할 수 있게 되었다. 경제 민주화?
- 각 나라마다 암호화폐에 대한 정책은 다르다.

### 비즈니스 도메인 활성화 코인

- steemit : 게시물을 올리면 환전 가능한 암호화 화폐를 준다.
- filecoin : 스토리지 공유. = filecoin으로 보상하자. 비어있는 스토리지 개인의 컴퓨터에 넣어놓고 보상하자. 

### 의료정보의 고신뢰 서비스 기술

- 딥마인드 헬스와 NHS
- 비금융분야의 비즈니스에 활용

### 블록체인과 공유경제 사회

- 공유경제 : 한번 생산된 제품을 여럿이 공유해 쓰는 '협업소비' 근간의 경제방식
- 공유에 의해 재화나 서비스 등을 공유함.

### 블록체인 대기업 유형

- 코닥 원 : 디지털 사진을 거래하는 플랫폼. 개인간 스마트 계약과 코닥코인을 통한 사진거래
- 토요타 : 블록체인을 이용한 차량 공유 플랫폼.
- 월마트 : 농축산품 유통과정 저장
- 에어버스 : 군수산업. 유통단계의 클린화. 이동과정 저장 및 관리
- 도쿄 전력 : 블록체인을 이용한 에너지 거래 플랫폼

### 디지털 세상의 특징

- 분할 및 병합
- 시공간 초월
- 자동화

> 모든 것이 디지털화 될 수는 없다. 그러나 디지털화 할 수 있는 모든 것은 디지털화 될 것이다.



# 이더리움

- 분산 어플리케이션을 위한 플랫폼을 표방.
- 이더 화폐 사용.

### 이더리움이란?

- 분산화된 상태전이 머신
  - 트랜잭션에 기반한 상태전이
    - 단, 이전 상태로 되돌아갈 수 없음.
  - 암호화 알고리즘을 활용 -> 무작위로 상태전이가 일어나는 것을 방지
  - 모든 참여자가 동일한 상태를 공유
  - 블록은 해당 시점의 이더리움의 상태를 나타낸다고 볼 수 있음.

### 이더리움의 구성요소

- 이더리움 계정의 종류
  - 외부 소유 계정
    - ET 잔액 유지
    - 개인 키를 통한 주소 관리
    - ETH 전송,
  - CA
- 주소 생성
  - 개인키 생성
  - 타원곡선전자서명 알고리즘
  - Keccak-256 hashing
  - 계정 주소
- 상태 
  - 어느 한 시점의 Ether의 잔액. 기타 정보를 담고 있는 계정들의 집합
  - 모든 이더리움의 참여 노드는 로컬에 상태 정보를 유지함
  - stateObject
    - 상태의 수정이 발생한 이더리움 계정을 나타내는 객체
- 이더리움의 상태 전이
  - 블록 채굴로 인한 거래 내역 추가 시 상태 전이 발생
  - 상태전이함수에 의해 수행
- 트랜잭션 종류
  - 외부 트랜잭션
  - 내부 트랜잭션
- EOA
  - 서명된 메세지
  - 별도로 저장됨
- CA
  - 서명되지 않은 메세지
  - 블록체인에 별도로 저장되지 않음

### 트랜잭션 구조

- 외부 트랜잭션의 수
- 트랜잭션 수수료
- 트랜잭션 실행을 위해 지불할 최대 가스 양
- 거래의 수신처
- 거래량
- 메세지
- 서명정보

### 트랜잭션 리시트

- 트랜잭션의 실행결과를 기록
- 해시등 저장

### 블록

- 이더리움 장부에 기록되는 데이터의 기본 단위
- 트랜잭션들의 집합
- 주요 데이터
  - 이전 블록의 헤더 해시값
  - 이 블록의 엉클블록
  - 블록 채굴한 채굴자의 주소

### 엉클블록

- 동일한 시점에 채굴된 블록 중 채굴 난이도가 낮아 메인 체인에 연결되지 못한 블록
- 블록생성 시간이 빠를 수록 엉클 블록의 발생 확률이 높음.
- 문제점
  - 엉클 블록에 포함된 트랜잭션은 승인되지 않았기 때문에 트랜잭션 처리 지연
  - 승인되지 않은 블록에 연산이 소모되어 연산량이 낭비됨
  - 평균 블록 생성 시간이 늘어나 채굴 난이도가 감소하게 되어 네트워크의 보안 수준이 낮아짐

### 작업증명

- Ethash
  - 계산은 어렵게, 검증은 쉽게

### 지분증명

- 검증자가 가진 지분에 비례한 확률로 블록 생성 권한을 회득
- PoW의 문제점을 개선
  - 전력 소모량, 채굴 중앙화 등
- 이더리움은 Casper을 통해 PoS로 전환중



### Casper FFG

- 하이브리드 방식

### 스마트 컨트랙트

- 이더리움의 핵심 기능
  - 스마트 컨트랙트 개발 언어
    - solidity : 현재 가장 많이 사용하고 있음
- 스마트 컨트랙트의 베포
  - 가스 라는 수수료를 제공
- 스마트 컨트랙트의 실행
  - ca 를 가지고 있다.
  - 데이터를 실행

### 가스 (중요)

- 이더리움을 움직이게 하는 기본 단위
- 트랜잭션, 스마트 컨트랙트를 위한 수수료
- 가스가격의 기본 단위
  - 이는 사용자가 정의할 수 있으며 단위가 클 수록 트랜잭션의 빠른 처리가 가능하다.
- 디도스 악성 해킹 방지
- 가스를 통한 유입요인. 수입 요인